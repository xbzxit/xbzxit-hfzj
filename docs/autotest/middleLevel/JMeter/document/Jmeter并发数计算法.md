# Jmeter并发数计算法

## 普通方法

> 并发tps = 总请求数/总时间
>
> 只能满足最基本的要求，但是不能很好覆盖系统正常的使用情况

## 二八原则

> 并发tps = 总请求数 * 80% / 总时间 * 20%
>
> 满足系统绝大多数情况下的应用场景的需要

## 根据业务运营数据的统计计算

> 通常用来做稳定性测试
>
> 并发TPS = 有效请求数 * 80% / 有效时间 * 20%
>
> 当运营数据统计越精确时，计算出的并发TPS与实际的越接近

## 根据用户峰值业务操作来计算

> （通常用来做压力测试）
> 并发TPS = 峰值请求数 / 峰值时间 * 系数(如果预估的业务量是当前的2F)
> 满足峰值请求时间段内的负载量，系数取决于项目组对于未来业务量的评估

### 练习

> 某购物商城，经过运营统计，正常一天成交额为100亿，客单价平均为300元，交易时间主要为10:00-
> 14:00，17:00-24:00，其中19:00—20:00的成交量最大，大约成交20亿。
> 现升级系统，需要进行性能测试，保证软件在上线后能稳定运行。
> 请计算出系统稳定性测试时的并发（负载）量，及保证系统峰值业务时的并发（负载）量

```bash
稳定性并发量：
并发TPS = 有效请求数 * 80% / 有效时间 * 20%
并发TPS = （100E/300 * 80%） / (3600 * 11 * 20%)
压力并发量：
并发TPS = 峰值请求数 / 峰值时间 * 系数
压力TPS = (20E/300) / (3600 * 1) * 系数
```
